@model IEnumerable<DierenTuin_opdracht.Models.Animal>

<h1>Dieren</h1>

@using Microsoft.AspNetCore.Mvc.Rendering
@using DierenTuin_opdracht.Models

<form asp-action="Index" method="get" class="mb-3">
    <div class="row g-2">

        <div class="col-md-3">
            <label class="form-label">Categorie</label>
            <select name="categoryId" class="form-select" asp-items="@((SelectList)ViewData["Categories"])">
                <option value="">Alle</option>
            </select>

        </div>

        <div class="col-md-2">
            <label class="form-label">Grootte</label>
            <select name="size" class="form-select">
                <option value="">Alle</option>
                @foreach (var v in Enum.GetValues(typeof(Size)).Cast<Size>())
                {
                    var selected = (ViewData["SelectedSize"] as Size?) == v ? "selected" : null;
                    <option value="@v" selected="@selected">@v</option>
                }
            </select>
        </div>

        <div class="col-md-2">
            <label class="form-label">Voedingsklasse</label>
            <select name="dietaryClass" class="form-select">
                <option value="">Alle</option>
                @foreach (var v in Enum.GetValues(typeof(DietaryClass)).Cast<DietaryClass>())
                {
                    var selected = (ViewData["SelectedDietaryClass"] as DietaryClass?) == v ? "selected" : null;
                    <option value="@v" selected="@selected">@v</option>
                }
            </select>
        </div>

        <div class="col-md-2">
            <label class="form-label">Activiteitspatroon</label>
            <select name="activityPattern" class="form-select">
                <option value="">Alle</option>
                @foreach (var v in Enum.GetValues(typeof(ActivityPattern)).Cast<ActivityPattern>())
                {
                    var selected = (ViewData["SelectedActivityPattern"] as ActivityPattern?) == v ? "selected" : null;
                    <option value="@v" selected="@selected">@v</option>
                }
            </select>
        </div>

        <div class="col-md-3">
            <label class="form-label">Beveiligingsniveau</label>
            <select name="securityRequirement" class="form-select">
                <option value="">Alle</option>
                @foreach (var v in Enum.GetValues(typeof(SecurityLevel)).Cast<SecurityLevel>())
                {
                    var selected = (ViewData["SelectedSecurityRequirement"] as SecurityLevel?) == v ? "selected" : null;
                    <option value="@v" selected="@selected">@v</option>
                }
            </select>
        </div>

        <div class="col-12 mt-2 d-flex gap-2">
            <button type="submit" class="btn btn-primary">Filter</button>
            <a asp-action="Index" class="btn btn-outline-secondary">Reset</a>
        </div>

    </div>
</form>


<table class="table">
    <thead>
        <tr>
            <th>Naam</th>
            <th>Soort</th>
            <th>Categorie</th>
            <th>Verblijf</th>
            <th>Acties</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Name)</td>
                <td>@Html.DisplayFor(modelItem => item.Species)</td>
                <td>@(item.Category?.Name ?? "Geen categorie")</td>
                <td>@(item.Enclosure?.Name ?? "Geen verblijf")</td>
                <td>
                    <a asp-action="Edit" asp-route-id="@item.Id">Bewerken</a> |
                    <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                    <a asp-action="Delete" asp-route-id="@item.Id">Verwijderen</a> |
                    <a asp-action="Sunrise" asp-route-id="@item.Id">Zonsopgang</a> |
                    <a asp-action="Sunset" asp-route-id="@item.Id">Zonsondergang</a> |
                    <a asp-action="FeedingTime" asp-route-id="@item.Id">Voeren</a> |
                    <a asp-action="CheckConstraints" asp-route-id="@item.Id">Controleer eisen</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<p>
    <a asp-action="Create" class="btn btn-primary">Nieuw dier toevoegen</a>
</p>
